import{u as i,r as m,j as t,C as h,B as b,a as g,b as p}from"./index-CpcU_EXc.js";import{I as x,c as y}from"./contactsData-BVU_n5zA.js";import{T as j}from"./Tagline-L9aF27Vr.js";const N=`https://api.telegram.org/bot${b}/sendMessage`,w=({buttonState:e})=>{const{t:a}=i(),n=e!==a("contact.submitButton.submit");return t.jsx("button",{type:"submit",disabled:n,className:`transition-smooth rounded-md px-4 py-2 text-white ${e===a("contact.submitButton.submit")?"bg-primary hover:bg-secondary":"cursor-not-allowed bg-gray-500"}`,"aria-busy":n,children:e})},v=()=>{const{t:e}=i(),[a,n]=m.useState({message:"",name:"",buttonState:e("contact.submitButton.submit"),humanVerification:"",captchaError:!1}),[l,u]=m.useState({num1:Math.floor(Math.random()*10),num2:Math.floor(Math.random()*10)}),d=l.num1+l.num2,r=(s,o)=>n(c=>({...c,[s]:o})),f=async s=>{if(s.preventDefault(),!a.message.trim()){r("buttonState",e("contact.submitButton.submit"));return}if(parseInt(a.humanVerification)!==d){r("captchaError",!0),r("buttonState",e("contact.submitButton.submit"));return}r("captchaError",!1),r("buttonState",e("contact.submitButton.sending"));try{const o=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:h,text:`name:${a.name}; message:${a.message}`})});if(o.ok)n(c=>({...c,message:"",name:"",humanVerification:"",buttonState:e("contact.submitButton.submitted")})),u({num1:Math.floor(Math.random()*10),num2:Math.floor(Math.random()*10)}),setTimeout(()=>r("buttonState",e("contact.submitButton.submit")),3e3);else{const c=await o.json();console.error(`${e("contact.error.responseError")} ${c.description}`),r("buttonState",e("contact.submitButton.submit"))}}catch(o){o instanceof Error?console.error(`Error: ${o.message}`):console.error(e("contact.error.fetchError")),r("buttonState",e("contact.submitButton.submit"))}};return t.jsxs("form",{className:"shadow-m flex w-full flex-col gap-4 rounded-md bg-dark-bg/20 p-6 text-sm font-light text-light-gray",onSubmit:f,children:[t.jsx("input",{autoComplete:"off",type:"text",name:"name",id:"name",required:!0,placeholder:e("contact.form.namePlaceholder"),value:a.name,onChange:s=>r("name",s.target.value),className:"w-full rounded-md border border-primary bg-transparent p-3 outline-none placeholder:text-light-gray focus:border-secondary focus:bg-dark-bg focus:ring-secondary","aria-label":"Name"}),t.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,placeholder:e("contact.form.messagePlaceholder"),className:"w-full rounded-md border border-primary bg-transparent p-3 outline-none placeholder:text-light-gray focus:border-secondary focus:bg-dark-bg focus:ring-secondary",value:a.message,onChange:s=>r("message",s.target.value),"aria-label":"Message"}),a.message&&a.name&&t.jsxs("div",{className:"flex w-full flex-wrap items-center gap-2",children:[t.jsxs("label",{htmlFor:"captcha",className:"text-light-gray",children:[e("contact.form.captchaQuestion")," ",l.num1," + ",l.num2,"?"]}),t.jsx("input",{autoComplete:"off",type:"text",id:"captcha",required:!0,placeholder:e("contact.form.captchaPlaceholder"),value:a.humanVerification,onChange:s=>r("humanVerification",s.target.value),className:"flex-1 rounded-md border border-primary bg-transparent p-2 outline-none placeholder:text-light-gray focus:border-secondary focus:bg-dark-bg focus:ring-secondary","aria-label":"Captcha"})]}),a.captchaError&&t.jsx("p",{className:"text-red-500",children:e("contact.form.captchaError")}),t.jsx(w,{buttonState:a.buttonState})]})},S="/creative-portfolio/assets/contact_back-uwhuZJng.webp",T=()=>{const{t:e}=i();return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"relative mx-auto flex max-w-screen-2xl flex-col p-4 pb-2 sm:p-8",children:t.jsxs("div",{className:"relative z-10",children:[t.jsx(g,{title:e("contact.title"),styles:"justify-end"}),t.jsxs("div",{className:"flex flex-col-reverse gap-4 md:flex-row lg:gap-16",children:[t.jsx("div",{className:"mx-auto flex w-full max-w-screen-md flex-1 items-center justify-center",children:t.jsx(v,{})}),t.jsxs("div",{className:"flex flex-1 flex-col gap-4 lg:gap-6",children:[t.jsx(j,{slogan:e("contact.tagline"),styles:"text-right"}),t.jsxs("p",{className:"w-3/4 self-end text-end text-xl leading-relaxed text-light-gray",children:[e("contact.descriptionPartOne")," ",t.jsx("br",{})," ",e("contact.descriptionPartTwo")]})]})]}),t.jsx("div",{className:"mt-6 flex items-center justify-center",children:t.jsx(x,{items:y})})]})}),t.jsxs("div",{className:"absolute inset-0 -z-0 hidden h-full w-full opacity-20 sm:block",children:[t.jsx(p.LazyLoadImage,{src:S,alt:e("imageAlt"),loading:"lazy",effect:"blur",className:"mx-auto h-auto w-screen object-cover opacity-20"}),t.jsx("div",{className:"back-gradient absolute inset-0 -z-0 h-full w-full"})]})]})};export{T as default};
